{% extends 'layout.html' %}

{% block title %}
CO2 emissions tracker - Emissions  
{% endblock title %}

{% block header %}
<a href="/"><img src="./static/img/carbon_footprint.png" alt="A foot with the letters: CO2 "></a>
<h1><a href="/">emissions tracker</a></h1>
{% endblock header %}

{% block nav %}
<p>
    <a href="./">Home</a> | View / Edit Emissions | <a href="/dashboard">View Dashboard</a> | <a href="/logout">Logout</a> | <a href="/about">About</a>
</p>
{% endblock nav %}


{% block main %}
<table>
    <thead>
        <th>Date <a href="./view-emissions?sortby=date-asc"><img class='sort-icon' src="./static/img/ascending-icon.png">️</a> <a href="./view-emissions?sortby=date-desc"><img class='sort-icon' src="./static/img/descending-icon.png">️</a></th>
        <th>Interval <a href="./view-emissions?sortby=interval-asc"><img class='sort-icon' src="./static/img/ascending-icon.png">️</a> <a href="./view-emissions?sortby=interval-desc"><img class='sort-icon' src="./static/img/descending-icon.png">️</a></th>
        <th>Amount <a href="./view-emissions?sortby=amount-asc"><img class='sort-icon' src="./static/img/ascending-icon.png">️</a> <a href="./view-emissions?sortby=amount-desc"><img class='sort-icon' src="./static/img/descending-icon.png">️</a></th>
        <th>Type <a href="./view-emissions?sortby=type-asc"><img class='sort-icon' src="./static/img/ascending-icon.png">️</a> <a href="./view-emissions?sortby=type-desc"><img class='sort-icon' src="./static/img/descending-icon.png">️</a></th>
        <th>Description <a href="./view-emissions?sortby=description-asc"><img class='sort-icon' src="./static/img/ascending-icon.png">️</a> <a href="./view-emissions?sortby=description-desc"><img class='sort-icon' src="./static/img/descending-icon.png">️</a></th>
        <th></th>
        <th></th>
    </thead>
    <tbody>
        {% for event in emissions %}
        <tr>
            <td>{{event.get_date()}}</td>
            <td>{{event.interval}}</td>
            <td>{{event.amount}}{{event.get_units()}}</td>
            <td>{{event.type}}</td>
            <td>{{event.description}}</td>
            <td><a href="/edit-emission-view?id={{event.id}}">Edit</a></td>
            <td><a href="/delete-emission-view?id={{event.id}}">Delete</a></td>
        </tr>
        {% endfor %}
    </tbody>
</table>
<p>
<button><a href="/add-emission-view">Add new emission</a></button>
</p>
{% endblock main %}


<!-- {% block footer %}
Footer
{% endblock footer %} -->
